(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(24),r=n.n(a),i=(n(32),n(27)),j=(n(33),n(9)),o=(n(34),n(0)),u=function(){return Object(o.jsxs)("div",{className:"home-comp",children:[Object(o.jsx)("h1",{children:" Home "}),Object(o.jsxs)("div",{className:"home-buttons",children:[Object(o.jsx)(j.b,{to:"/signup",children:Object(o.jsx)("button",{children:"Sign Up"})}),Object(o.jsx)(j.b,{to:"/signin",children:Object(o.jsx)("button",{children:"Sign In"})})]})]})},l=n(2),b=n(8),d=n.n(b),h=n(11),O=n(4),p=n(14),m=n.n(p);n(41),n(43);m.a.initializeApp({apiKey:"AIzaSyAOwxTyyCgO8xW5ToWxQBG99KMm5RNCqME",authDomain:"chat-app-fe5e8.firebaseapp.com",databaseURL:"https://chat-app-fe5e8-default-rtdb.firebaseio.com",projectId:"chat-app-fe5e8",storageBucket:"chat-app-fe5e8.appspot.com",messagingSenderId:"310926895675",appId:"1:310926895675:web:0de4528e0cf9def1b18a1e"});var f=m.a.auth(),x=m.a.database();function g(e,t){return f.createUserWithEmailAndPassword(e,t)}function v(e,t){return f.signInWithEmailAndPassword(e,t)}n(46);function S(e,t){x.ref("users").push({name:e,email:t})}var N=function(){var e=Object(l.g)(),t=Object(c.useState)(""),n=Object(O.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),i=Object(O.a)(r,2),j=i[0],u=i[1],b=Object(c.useState)(""),p=Object(O.a)(b,2),m=p[0],f=p[1],x=Object(c.useState)(""),v=Object(O.a)(x,2),N=v[0],I=v[1],w=Object(c.useState)(null),C=Object(O.a)(w,2),k=C[0],y=C[1],E=function(){var t=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m!==N){t.next=14;break}return t.prev=1,t.next=4,g(j,m);case 4:S(s,j),e.push("/signin"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),y(t.t0);case 12:t.next=15;break;case 14:alert("Password and Confirm Password are not same...");case 15:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return localStorage.getItem("userInfo")?Object(o.jsx)(l.a,{to:"/chat"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:"error-message",children:null===k||void 0===k?void 0:k.message}),Object(o.jsxs)("div",{className:"sign-up",children:[Object(o.jsx)("h1",{children:" SIGN UP "}),Object(o.jsxs)("div",{className:"su-input-fields",children:[Object(o.jsx)("label",{children:"Name"}),Object(o.jsx)("input",{onChange:function(e){a(e.target.value)}})]}),Object(o.jsxs)("div",{className:"su-input-fields",children:[Object(o.jsx)("label",{children:"Email"}),Object(o.jsx)("input",{onChange:function(e){u(e.target.value)}})]}),Object(o.jsxs)("div",{className:"su-input-fields",children:[Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{onChange:function(e){f(e.target.value)},type:"password"})]}),Object(o.jsxs)("div",{className:"su-input-fields",children:[Object(o.jsx)("label",{children:" Confirm Password"}),Object(o.jsx)("input",{onChange:function(e){I(e.target.value)},type:"password"})]}),Object(o.jsx)("div",{className:"sign-up-button",children:Object(o.jsx)("button",{onClick:E,children:"Sign Up"})})]})]})},I=(n(47),function(){var e=Object(l.g)(),t=Object(c.useState)(""),n=Object(O.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),i=Object(O.a)(r,2),j=i[0],u=i[1],b=Object(c.useState)(null),p=Object(O.a)(b,2),m=p[0],f=p[1],x=function(){var t=Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(s,j);case 3:n=t.sent,localStorage.setItem("userInfo",n.user.email),e.push("/chat"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),f(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return localStorage.getItem("userInfo")?Object(o.jsx)(l.a,{to:"/chat"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:"error-message",children:null===m||void 0===m?void 0:m.message}),Object(o.jsxs)("div",{className:"sign-in",children:[Object(o.jsx)("h1",{children:" SIGN IN "}),Object(o.jsxs)("div",{className:"input-fields",children:[Object(o.jsx)("label",{children:"Email"}),Object(o.jsx)("input",{onChange:function(e){a(e.target.value)}})]}),Object(o.jsxs)("div",{className:"input-fields",children:[Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{type:"password",onChange:function(e){u(e.target.value)}})]}),Object(o.jsx)("div",{className:"sign-in-button",children:Object(o.jsx)("button",{onClick:x,children:"Sign In"})})]})]})}),w=(n(48),function(){return Object(o.jsx)("div",{className:"wrong-path",children:Object(o.jsx)("h1",{children:"Oops! Something went wrong"})})}),C=(n(49),function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"navbar",children:Object(o.jsx)(j.b,{to:"/",children:" Let's Chat "})})})}),k=(n(50),n(51),function(e){var t=Object(c.useState)(""),n=Object(O.a)(t,2),s=n[0],a=n[1],r=localStorage.getItem("userInfo"),i=e.msgs;return Object(o.jsxs)("div",{className:"chat-box",children:[Object(o.jsx)("div",{className:"message-area ",children:i.map((function(e,t){return Object(o.jsxs)("div",{className:e.msg.email===r?"right_msg":"left_msg",children:[Object(o.jsx)("p",{children:e.msg.content}),Object(o.jsx)("br",{})]},t)}))}),Object(o.jsxs)("form",{className:"form",children:[Object(o.jsx)("input",{placeholder:"Type your message here...",value:s,onChange:function(e){a(e.target.value)}}),Object(o.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),function(e,t){x.ref("msgs").push({content:e,email:t,timeStamp:Date.now()})}(s,r),a("")},children:"Send Message"})]})]})}),y=function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)([]),i=Object(O.a)(r,2),j=i[0],u=i[1],b=Object(l.g)(),p=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.signOut();case 2:localStorage.removeItem("userInfo"),alert("Sign Out Successfully"),b.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){x.ref("users").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({name:n.name,email:n.email})})),a(t)})),x.ref("msgs").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({msg:n})})),u(t)}))}),[]);var m=Object(c.useState)(!1),g=Object(O.a)(m,2),v=g[0],S=g[1];return Object(o.jsxs)("div",{className:"chat-component",children:[Object(o.jsxs)("div",{className:"side-box",children:[Object(o.jsxs)("div",{className:"chatUsers",children:[Object(o.jsx)("h3",{children:" ACTIVE USERS "}),s.map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsxs)("li",{children:[" ",e.name," "]})},t)})),Object(o.jsx)("button",{onClick:function(){S(!0)},children:"Let's Chat "})]}),Object(o.jsx)("div",{className:"signout-btn",children:Object(o.jsx)("button",{onClick:p,children:" Sign Out "})})]}),Object(o.jsx)("div",{className:"chats",children:v&&Object(o.jsx)("div",{children:Object(o.jsx)(k,{msgs:j})})})]})};var E=function(){var e=localStorage.getItem("userInfo");function t(t){var n=t.Component,c=t.path;return e=localStorage.getItem("userInfo"),Object(o.jsx)(l.b,{path:c,render:function(t){return e?Object(o.jsx)(n,Object(i.a)({},t)):Object(o.jsx)(l.a,{to:"/signin"})}})}return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(j.a,{children:[Object(o.jsx)(C,{}),Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{exact:!0,path:"/",component:u}),Object(o.jsx)(l.b,{exact:!0,path:"/signup",component:N}),Object(o.jsx)(l.b,{exact:!0,path:"/signin",component:I}),Object(o.jsx)(t,{path:"/chat",Component:y}),Object(o.jsx)(l.b,{component:w})]})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(E,{})}),document.getElementById("root")),P()}},[[52,1,2]]]);
//# sourceMappingURL=main.2db200be.chunk.js.map