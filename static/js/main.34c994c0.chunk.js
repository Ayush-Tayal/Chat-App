(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(24),r=n.n(a),i=(n(32),n(27)),o=(n(33),n(9)),j=(n(34),n(0)),l=function(){return Object(j.jsxs)("div",{className:"home-comp",children:[Object(j.jsx)("h1",{children:"Welcome to Home Page"}),Object(j.jsxs)("div",{className:"home-buttons",children:[Object(j.jsx)(o.b,{to:"/signup",children:Object(j.jsx)("button",{children:"Sign Up"})}),Object(j.jsx)(o.b,{to:"/signin",children:Object(j.jsx)("button",{children:"Sign In"})})]})]})},u=n(2),b=n(8),h=n.n(b),d=n(11),O=n(4),p=n(14),m=n.n(p);n(41),n(43);m.a.initializeApp({apiKey:"AIzaSyAOwxTyyCgO8xW5ToWxQBG99KMm5RNCqME",authDomain:"chat-app-fe5e8.firebaseapp.com",databaseURL:"https://chat-app-fe5e8-default-rtdb.firebaseio.com",projectId:"chat-app-fe5e8",storageBucket:"chat-app-fe5e8.appspot.com",messagingSenderId:"310926895675",appId:"1:310926895675:web:0de4528e0cf9def1b18a1e"});var x=m.a.auth(),g=m.a.database();function f(e,t){return x.createUserWithEmailAndPassword(e,t)}function v(e,t){return x.signInWithEmailAndPassword(e,t)}n(46);function S(e,t){g.ref("users").push({name:e,email:t})}var N=function(){var e=Object(u.g)(),t=Object(c.useState)(""),n=Object(O.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),i=Object(O.a)(r,2),o=i[0],l=i[1],b=Object(c.useState)(""),p=Object(O.a)(b,2),m=p[0],x=p[1],g=Object(c.useState)(null),v=Object(O.a)(g,2),N=v[0],I=v[1],C=function(){var t=Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(o,m);case 3:S(s,o),console.log("sign up clicked"),e.push("/signin"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),I(t.t0),console.log("Error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return localStorage.getItem("userInfo")?Object(j.jsx)(u.a,{to:"/chat"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"error-message",children:null===N||void 0===N?void 0:N.message}),Object(j.jsxs)("div",{className:"sign-up",children:[Object(j.jsx)("h1",{children:"Welcome to Sign up page"}),Object(j.jsxs)("div",{className:"su-input-fields",children:[Object(j.jsx)("label",{children:"Name"}),Object(j.jsx)("input",{onChange:function(e){a(e.target.value)}})]}),Object(j.jsxs)("div",{className:"su-input-fields",children:[Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",{onChange:function(e){l(e.target.value)}})]}),Object(j.jsxs)("div",{className:"su-input-fields",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{onChange:function(e){x(e.target.value)}})]}),Object(j.jsx)("div",{className:"sign-up-button",children:Object(j.jsx)("button",{onClick:C,children:"Sign Up"})})]})]})},I=(n(47),function(){var e=Object(u.g)(),t=Object(c.useState)(""),n=Object(O.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),i=Object(O.a)(r,2),o=i[0],l=i[1],b=Object(c.useState)(null),p=Object(O.a)(b,2),m=p[0],x=p[1],g=function(){var t=Object(d.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(s,o);case 3:n=t.sent,localStorage.setItem("userInfo",n.user.email),e.push("/chat"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),x(t.t0),console.log("error in signin",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return localStorage.getItem("userInfo")?Object(j.jsx)(u.a,{to:"/chat"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"error-message",children:null===m||void 0===m?void 0:m.message}),Object(j.jsxs)("div",{className:"sign-in",children:[Object(j.jsx)("h1",{children:"Welcome to Sign in page"}),Object(j.jsxs)("div",{className:"input-fields",children:[Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",{onChange:function(e){a(e.target.value)}})]}),Object(j.jsxs)("div",{className:"input-fields",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{onChange:function(e){l(e.target.value)}})]}),Object(j.jsx)("div",{className:"sign-in-button",children:Object(j.jsx)("button",{onClick:g,children:"Sign In"})})]})]})}),C=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Oops! Something went wrong"})})},w=(n(48),function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"navbar",children:Object(j.jsxs)(o.b,{to:"/chat-app",children:[" ",Object(j.jsx)("h1",{children:"CHAT APP"})," "]})})})}),k=(n(49),n(50),function(e){var t=Object(c.useState)(""),n=Object(O.a)(t,2),s=n[0],a=n[1],r=localStorage.getItem("userInfo"),i=e.msgs;return Object(j.jsxs)("div",{className:"chat-box",children:[Object(j.jsx)("div",{className:"message-area ",children:i.map((function(e,t){return console.log("curr message is",e),Object(j.jsxs)("div",{className:e.msg.email===r?"right":"left",children:[Object(j.jsx)("p",{children:e.msg.content}),Object(j.jsx)("br",{})]},t)}))}),Object(j.jsxs)("form",{className:"form",children:[Object(j.jsx)("input",{placeholder:"Type your message here...",value:s,onChange:function(e){a(e.target.value)}}),Object(j.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),console.log("Sent"),function(e,t){g.ref("msgs").push({content:e,email:t,timeStamp:Date.now()})}(s,r),a("")},children:"Send Message"})]})]})}),y=function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)([]),i=Object(O.a)(r,2),o=i[0],l=i[1],b=Object(u.g)(),p=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.signOut();case 2:localStorage.removeItem("userInfo"),b.push("/chat-app"),console.log("Sign out clicked");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){g.ref("users").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({name:n.name,email:n.email})})),console.log("all users",t),a(t)})),g.ref("msgs").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({msg:n})})),l(t)}))}),[]);var m=Object(c.useState)(!1),f=Object(O.a)(m,2),v=f[0],S=f[1];return Object(j.jsxs)("div",{className:"chat-component",children:[Object(j.jsxs)("div",{className:"chat",children:[Object(j.jsxs)("div",{className:"chatUsers",children:[Object(j.jsx)("h3",{children:"All Users"}),s.map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsxs)("li",{children:[" ",e.name," "]})},t)})),Object(j.jsx)("button",{onClick:function(){S(!0)},children:"Let's Chat"})]}),Object(j.jsx)("div",{className:"signout-btn",children:Object(j.jsx)("button",{onClick:p,children:"Sign Out"})})]}),Object(j.jsx)("div",{className:"chats",children:v&&Object(j.jsx)("div",{children:Object(j.jsx)(k,{msgs:o})})})]})};var E=function(){var e=localStorage.getItem("userInfo");function t(t){var n=t.Component,c=t.path;return Object(j.jsx)(u.b,{path:c,render:function(t){return e?Object(j.jsx)(n,Object(i.a)({},t)):Object(j.jsx)(u.a,{to:"/signin"})}})}return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(o.a,{children:[Object(j.jsx)(w,{}),Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{exact:!0,path:"/",component:l}),Object(j.jsx)(u.b,{exact:!0,path:"/signup",component:N}),Object(j.jsx)(u.b,{exact:!0,path:"/signin",component:I}),Object(j.jsx)(t,{path:"/chat",Component:y}),Object(j.jsx)(u.b,{component:C})]})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),P()}},[[51,1,2]]]);
//# sourceMappingURL=main.34c994c0.chunk.js.map